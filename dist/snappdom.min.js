(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var VNode=require("./vnode");var is=require("./is");module.exports=function h(sel,b,c){var data={},children,text,i;if(arguments.length===3){data=b;if(is.array(c)){children=c}else if(is.primitive(c)){text=c}}else if(arguments.length===2){if(is.array(b)){children=b}else if(is.primitive(b)){text=b}else{data=b}}if(is.array(children)){for(i=0;i<children.length;++i){if(is.primitive(children[i]))children[i]=VNode(undefined,undefined,undefined,children[i])}}return VNode(sel,data,children,text,undefined)}},{"./is":2,"./vnode":10}],2:[function(require,module,exports){module.exports={array:Array.isArray,primitive:function(s){return typeof s==="string"||typeof s==="number"}}},{}],3:[function(require,module,exports){function updateClass(oldVnode,vnode){var cur,name,elm=vnode.elm,oldClass=oldVnode.data.class||{},klass=vnode.data.class||{};for(name in klass){cur=klass[name];if(cur!==oldClass[name]){elm.classList[cur?"add":"remove"](name)}}}module.exports={create:updateClass,update:updateClass}},{}],4:[function(require,module,exports){var is=require("../is");function arrInvoker(arr){return function(){arr[0](arr[1])}}function fnInvoker(arr){return function(ev){arr[0](ev)}}function updateEventListeners(oldVnode,vnode){var name,cur,old,elm=vnode.elm,oldOn=oldVnode.data.on||{},on=vnode.data.on;if(!on)return;for(name in on){cur=on[name];old=oldOn[name];if(old===undefined){if(is.array(cur)){elm.addEventListener(name,arrInvoker(cur))}else{cur=[cur];on[name]=cur;elm.addEventListener(name,fnInvoker(cur))}}else if(old.length===2){old[0]=cur[0];old[1]=cur[1];on[name]=old}else{old[0]=cur;on[name]=old}}}module.exports={create:updateEventListeners,update:updateEventListeners}},{"../is":2}],5:[function(require,module,exports){var raf=requestAnimationFrame||setTimeout;var nextFrame=function(fn){raf(function(){raf(fn)})};function setNextFrame(obj,prop,val){nextFrame(function(){obj[prop]=val})}var removed,created;function pre(oldVnode,vnode){removed={};created=[]}function create(oldVnode,vnode){var hero=vnode.data.hero;if(hero&&hero.id){created.push(hero.id);created.push(vnode)}}function destroy(vnode){var hero=vnode.data.hero;if(hero&&hero.id){removed[hero.id]=vnode}}function post(){var i,id,newElm,oldVnode,oldElm,hRatio,wRatio,oldRect,newRect,dx,dy,origTransform,origTransition,newStyle,oldStyle;for(i=0;i<created.length;i+=2){id=created[i];newElm=created[i+1].elm;oldVnode=removed[id];if(oldVnode){newStyle=newElm.style;oldElm=oldVnode.elm;oldStyle=oldElm.style;newRect=newElm.getBoundingClientRect();oldRect=oldElm.getBoundingClientRect();dx=oldRect.left-newRect.left;dy=oldRect.top-newRect.top;wRatio=newRect.width/Math.max(oldRect.width,1);hRatio=newRect.height/Math.max(oldRect.height,1);origTransform=newStyle.transform;origTransition=newStyle.transition;newStyle.transition=origTransition+"transform 0s";newStyle.transformOrigin="0 0";newStyle.opacity="0";newStyle.transform=origTransform+"translate("+dx+"px, "+dy+"px) "+"scale("+1/wRatio+", "+1/hRatio+")";setNextFrame(newStyle,"transition",origTransition);setNextFrame(newStyle,"transform",origTransform);setNextFrame(newStyle,"opacity","1");oldStyle.position="absolute";oldStyle.top=newRect.top+"px";oldStyle.left=newRect.left+"px";oldStyle.transformOrigin="0 0";oldStyle.transform="translate("+dx+"px, "+dy+"px)";oldStyle.opacity="1";document.body.appendChild(oldElm);setNextFrame(oldStyle,"transform","scale("+wRatio+", "+hRatio+")");setNextFrame(oldStyle,"opacity","0");oldElm.addEventListener("transitionend",function(ev){if(ev.propertyName==="transform")document.body.removeChild(ev.target)})}}removed=created=undefined}module.exports={pre:pre,create:create,destroy:destroy,post:post}},{}],6:[function(require,module,exports){function updateProps(oldVnode,vnode){var key,cur,old,elm=vnode.elm,oldProps=oldVnode.data.props||{},props=vnode.data.props||{};for(key in props){cur=props[key];old=oldProps[key];if(old!==cur){elm[key]=cur}}}module.exports={create:updateProps,update:updateProps}},{}],7:[function(require,module,exports){var raf=requestAnimationFrame||setTimeout;var nextFrame=function(fn){raf(function(){raf(fn)})};function setNextFrame(obj,prop,val){nextFrame(function(){obj[prop]=val})}function updateStyle(oldVnode,vnode){var cur,name,elm=vnode.elm,oldStyle=oldVnode.data.style||{},style=vnode.data.style||{},oldHasDel="delayed"in oldStyle;for(name in style){cur=style[name];if(name==="delayed"){for(name in style.delayed){cur=style.delayed[name];if(!oldHasDel||cur!==oldStyle.delayed[name]){setNextFrame(elm.style,name,cur)}}}else if(name!=="remove"&&cur!==oldStyle[name]){elm.style[name]=cur}}}function applyDestroyStyle(vnode){var style,name,elm=vnode.elm,s=vnode.data.style;if(!s||!(style=s.destroy))return;for(name in style){elm.style[name]=style[name]}}function applyRemoveStyle(vnode,rm){var s=vnode.data.style;if(!s||!s.remove){rm();return}var name,elm=vnode.elm,idx,i=0,maxDur=0,compStyle,style=s.remove,amount=0;var applied=[];for(name in style){applied.push(name);elm.style[name]=style[name]}compStyle=getComputedStyle(elm);var props=compStyle["transition-property"].split(", ");for(;i<props.length;++i){if(applied.indexOf(props[i])!==-1)amount++}elm.addEventListener("transitionend",function(ev){if(ev.target===elm)--amount;if(amount===0)rm()})}module.exports={create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle}},{}],8:[function(require,module,exports){"use strict";var VNode=require("./vnode");var is=require("./is");function isUndef(s){return s===undefined}function emptyNodeAt(elm){return VNode(elm.tagName,{},[],undefined,elm)}var emptyNode=VNode("",{},[],undefined,undefined);var insertedVnodeQueue;function sameVnode(vnode1,vnode2){return vnode1.key===vnode2.key&&vnode1.sel===vnode2.sel}function createKeyToOldIdx(children,beginIdx,endIdx){var i,map={},key;for(i=beginIdx;i<=endIdx;++i){key=children[i].key;if(!isUndef(key))map[key]=i}return map}function createRmCb(parentElm,childElm,listeners){return function(){if(--listeners===0)parentElm.removeChild(childElm)}}var hooks=["create","update","remove","destroy","pre","post"];function init(modules){var i,j,cbs={};for(i=0;i<hooks.length;++i){cbs[hooks[i]]=[];for(j=0;j<modules.length;++j){if(modules[j][hooks[i]]!==undefined)cbs[hooks[i]].push(modules[j][hooks[i]])}}function createElm(vnode){var i,data=vnode.data;if(!isUndef(data)){if(!isUndef(i=data.hook)&&!isUndef(i=i.init))i(vnode);if(!isUndef(i=data.vnode))vnode=i}var elm,children=vnode.children,sel=vnode.sel;if(!isUndef(sel)){var hashIdx=sel.indexOf("#");var dotIdx=sel.indexOf(".",hashIdx);var hash=hashIdx>0?hashIdx:sel.length;var dot=dotIdx>0?dotIdx:sel.length;var tag=hashIdx!==-1||dotIdx!==-1?sel.slice(0,Math.min(hash,dot)):sel;elm=vnode.elm=!isUndef(data)&&!isUndef(i=data.ns)?document.createElementNS(i,tag):document.createElement(tag);if(hash<dot)elm.id=sel.slice(hash+1,dot);if(dotIdx>0)elm.className=sel.slice(dot+1).replace(/\./g," ");if(is.array(children)){for(i=0;i<children.length;++i){elm.appendChild(createElm(children[i]))}}else if(is.primitive(vnode.text)){elm.appendChild(document.createTextNode(vnode.text))}for(i=0;i<cbs.create.length;++i)cbs.create[i](emptyNode,vnode);i=vnode.data.hook;if(!isUndef(i)){if(i.create)i.create(emptyNode,vnode);if(i.insert)insertedVnodeQueue.push(vnode)}}else{elm=vnode.elm=document.createTextNode(vnode.text)}return vnode.elm}function addVnodes(parentElm,before,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){parentElm.insertBefore(createElm(vnodes[startIdx]),before)}}function invokeDestroyHook(vnode){var i=vnode.data,j;if(!isUndef(i)){if(!isUndef(i=i.hook)&&!isUndef(i=i.destroy))i(vnode);for(i=0;i<cbs.destroy.length;++i)cbs.destroy[i](vnode);if(!isUndef(i=vnode.children)){for(j=0;j<vnode.children.length;++j){invokeDestroyHook(vnode.children[j])}}}}function removeVnodes(parentElm,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var i,listeners,rm,ch=vnodes[startIdx];if(!isUndef(ch)){invokeDestroyHook(ch);listeners=cbs.remove.length+1;rm=createRmCb(parentElm,ch.elm,listeners);for(i=0;i<cbs.remove.length;++i)cbs.remove[i](ch,rm);if(!isUndef(i=ch.data)&&!isUndef(i=i.hook)&&!isUndef(i=i.remove)){i(ch,rm)}else{rm()}}}}function updateChildren(parentElm,oldCh,newCh){var oldStartIdx=0,newStartIdx=0;var oldEndIdx=oldCh.length-1;var oldStartVnode=oldCh[0];var oldEndVnode=oldCh[oldEndIdx];var newEndIdx=newCh.length-1;var newStartVnode=newCh[0];var newEndVnode=newCh[newEndIdx];var oldKeyToIdx,idxInOld,elmToMove,before;while(oldStartIdx<=oldEndIdx&&newStartIdx<=newEndIdx){if(isUndef(oldStartVnode)){oldStartVnode=oldCh[++oldStartIdx]}else if(isUndef(oldEndVnode)){oldEndVnode=oldCh[--oldEndIdx]}else if(sameVnode(oldStartVnode,newStartVnode)){patchVnode(oldStartVnode,newStartVnode);oldStartVnode=oldCh[++oldStartIdx];newStartVnode=newCh[++newStartIdx]}else if(sameVnode(oldEndVnode,newEndVnode)){patchVnode(oldEndVnode,newEndVnode);oldEndVnode=oldCh[--oldEndIdx];newEndVnode=newCh[--newEndIdx]}else if(sameVnode(oldStartVnode,newEndVnode)){patchVnode(oldStartVnode,newEndVnode);parentElm.insertBefore(oldStartVnode.elm,oldEndVnode.elm.nextSibling);oldStartVnode=oldCh[++oldStartIdx];newEndVnode=newCh[--newEndIdx]}else if(sameVnode(oldEndVnode,newStartVnode)){patchVnode(oldEndVnode,newStartVnode);parentElm.insertBefore(oldEndVnode.elm,oldStartVnode.elm);oldEndVnode=oldCh[--oldEndIdx];newStartVnode=newCh[++newStartIdx]}else{if(isUndef(oldKeyToIdx))oldKeyToIdx=createKeyToOldIdx(oldCh,oldStartIdx,oldEndIdx);idxInOld=oldKeyToIdx[newStartVnode.key];if(isUndef(idxInOld)){parentElm.insertBefore(createElm(newStartVnode),oldStartVnode.elm);newStartVnode=newCh[++newStartIdx]}else{elmToMove=oldCh[idxInOld];patchVnode(elmToMove,newStartVnode);oldCh[idxInOld]=undefined;parentElm.insertBefore(elmToMove.elm,oldStartVnode.elm);newStartVnode=newCh[++newStartIdx]}}}if(oldStartIdx>oldEndIdx){before=isUndef(newCh[newEndIdx+1])?null:newCh[newEndIdx+1].elm;addVnodes(parentElm,before,newCh,newStartIdx,newEndIdx)}else if(newStartIdx>newEndIdx){removeVnodes(parentElm,oldCh,oldStartIdx,oldEndIdx)}}function patchVnode(oldVnode,vnode){var i,hook;if(!isUndef(i=vnode.data)&&!isUndef(hook=i.hook)&&!isUndef(i=hook.prepatch)){i(oldVnode,vnode)}if(!isUndef(i=oldVnode.data)&&!isUndef(i=i.vnode))oldVnode=i;if(!isUndef(i=vnode.data)&&!isUndef(i=i.vnode))vnode=i;var elm=vnode.elm=oldVnode.elm,oldCh=oldVnode.children,ch=vnode.children;if(oldVnode===vnode)return;if(!isUndef(vnode.data)){for(i=0;i<cbs.update.length;++i)cbs.update[i](oldVnode,vnode);i=vnode.data.hook;if(!isUndef(i)&&!isUndef(i=i.update))i(oldVnode,vnode)}if(isUndef(vnode.text)){if(!isUndef(oldCh)&&!isUndef(ch)){if(oldCh!==ch)updateChildren(elm,oldCh,ch)}else if(!isUndef(ch)){addVnodes(elm,null,ch,0,ch.length-1)}else if(!isUndef(oldCh)){removeVnodes(elm,oldCh,0,oldCh.length-1)}}else if(oldVnode.text!==vnode.text){elm.textContent=vnode.text}if(!isUndef(hook)&&!isUndef(i=hook.postpatch)){i(oldVnode,vnode)}return vnode}return function(oldVnode,vnode){var i;insertedVnodeQueue=[];for(i=0;i<cbs.pre.length;++i)cbs.pre[i]();if(oldVnode instanceof Element){if(oldVnode.parentElement!==null){createElm(vnode);oldVnode.parentElement.replaceChild(vnode.elm,oldVnode)}else{oldVnode=emptyNodeAt(oldVnode);patchVnode(oldVnode,vnode)}}else{patchVnode(oldVnode,vnode)}for(i=0;i<insertedVnodeQueue.length;++i){insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i])}insertedVnodeQueue=undefined;for(i=0;i<cbs.post.length;++i)cbs.post[i]();return vnode}}module.exports={init:init}},{"./is":2,"./vnode":10}],9:[function(require,module,exports){var h=require("./h");function init(thunk){var i,cur=thunk.data;cur.vnode=cur.fn.apply(undefined,cur.args)}function prepatch(oldThunk,thunk){var i,old=oldThunk.data,cur=thunk.data;var oldArgs=old.args,args=cur.args;cur.vnode=old.vnode;if(oldArgs.length!==args.length){cur.vnode=cur.fn.apply(undefined,args);return}for(i=0;i<args.length;++i){if(oldArgs[i]!==args[i]){cur.vnode=cur.fn.apply(undefined,args);return}}}module.exports=function(name,fn){var i,args=[];for(i=2;i<arguments.length;++i){args[i-2]=arguments[i]}return h("thunk"+name,{hook:{init:init,prepatch:prepatch},fn:fn,args:args})}},{"./h":1}],10:[function(require,module,exports){module.exports=function(sel,data,children,text,elm){var key=data===undefined?undefined:data.key;return{sel:sel,data:data,children:children,text:text,elm:elm,key:key}}},{}]},{},[8,1,9,6,3,7,4,5]);
//# sourceMappingURL=dist/snappdom.min.js.map